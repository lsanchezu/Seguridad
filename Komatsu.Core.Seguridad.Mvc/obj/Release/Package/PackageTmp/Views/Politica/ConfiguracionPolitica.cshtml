@model Komatsu.Core.Seguridad.Mvc.Models.ViewModel.UsuarioViewModel
@using Komatsu.Core.Seguridad.Common;

@{
    ViewBag.Title = "Configuracion de Politica";
}
<script type="text/javascript" src="@Url.Content("~/Scripts/View/Seguridad.Politica.js")"></script>
@Html.Hidden("Url_GuardarPolitica", Url.Action("GuardarPolitica", "Politica"))
<div class="breadLine">
    <div class="bc">
        <ul id="breadcrumbs" class="breadcrumbs">
            <li><a style="cursor: default">Inicio</a></li>
            <li><a style="cursor: default">Configuracion Politica</a></li>
            <li class="current"><a style="cursor: default">Configuracion</a></li>
        </ul>
    </div>
</div>
<div class="contentTop">
    <span class="pageTitle"><span class="icon-screen"></span>Configuracion Politica</span>
    <div class="clear">
    </div>
</div>
<div class="form">
    <fieldset>
        <div class="wrapper">
            <div class="widget fluid">
                <div class="whead">
                    <h6>
                        Politica de Seguridad</h6>
                    <div class="clear">
                    </div>
                </div>
                <div class="formRow fluid">
                    <div class="grid5">
                        <div class="grid5">
                            <label> Longitud mínima contraseña : </label>
                        </div>
                        <div class="grid4">
                            @if (Model.ListaPolitica.Count > 0)
                            {
                               foreach (var item in Model.ListaPolitica)
                                   {
                                        @Html.TextBoxFor(model => item.IDLongMinima_Contrasena,
                                                new
                                                {
                                                    @id = "LongMinContrasena",
                                                    @class = "textinput",
                                                    Value = item.IDLongMinima_Contrasena
                                                })
                                   }
                            }
                            else
                            {
                                 <input id="LongMinContrasena" type="text" class="textinput" />
                            }
                            <br class="clear" />
                            <span id="errorLongMin" class="error"></span>
                        </div>
                    </div>
                    <div class="grid5">
                        <div class="grid5">
                            <label> Dias de vigencia contraseña : </label>
                        </div>
                        <div class="grid4">
                             @if (Model.ListaPolitica.Count > 0)
                                {
                                   foreach (var item in Model.ListaPolitica)
                                       {
                                            @Html.TextBoxFor(model => item.IDVigencia_Contrasena,
                                                    new
                                                    {
                                                        @id = "VigenciaContrasena",
                                                        @class = "textinput",
                                                        Value = item.IDVigencia_Contrasena
                                                    })
                                       }
                                }
                                else
                                {
                                     <input id="VigenciaContrasena" type="text" class="textinput" />
                                }
                            <br class="clear" />
                           <span id="errorVigencia" class="error"></span>
                        </div>
                    </div>
                </div>
                <div class="formRow fluid">
                    <div class="grid5">
                        <div class="grid5">
                            <label> Máximo de Intentos : </label>
                        </div>
                        <div class="grid4">
                            @if (Model.ListaPolitica.Count > 0)
                                {
                                   foreach (var item in Model.ListaPolitica)
                                       {
                                            @Html.TextBoxFor(model => item.IDNroMaximoIntentos,
                                                    new
                                                    {
                                                        @id = "MaxIntentos",
                                                        @class = "textinput",
                                                        Value = item.IDNroMaximoIntentos
                                                    })
                                       }
                                }
                                else
                                {
                                     <input id="MaxIntentos" type="text" class="textinput" />
                                }
                            <br class="clear" />
                            <span id="errorMaxIntentos" class="error"></span>
                        </div>
                    </div> 
                    <div class="grid5">
                        <div class="grid5">
                            <label> Dias de bloqueo de usuario : </label>
                        </div>
                        <div class="grid4">
                             @if (Model.ListaPolitica.Count > 0)
                                {
                                   foreach (var item in Model.ListaPolitica)
                                       {
                                            @Html.TextBoxFor(model => item.IDDiasBloqueoUsuario,
                                                    new
                                                    {
                                                        @id = "BloqUsuario",
                                                        @class = "textinput",
                                                        Value = item.IDDiasBloqueoUsuario
                                                    })
                                       }
                                }
                                else
                                 {
                                        <input id="BloqUsuario" type="text" class="textinput" />
                                 }
                            <br class="clear" />
                            <span id="errorBloqUsuario" class="error"></span>
                        </div>
                    </div>
                </div>
                <div class="formRow fluid">
                    <div class="grid5">
                        <div class="grid5">
                            <label> Mínimo de contraseña historicas:</label>
                        </div>
                        <div class="grid4">
                            @if (Model.ListaPolitica.Count > 0)
                                {
                                   foreach (var item in Model.ListaPolitica)
                                       {
                                            @Html.TextBoxFor(model => item.IDCantidadContrasenaHist,
                                                    new
                                                    {
                                                        @id = "ContHistoricas",
                                                        @class = "textinput",
                                                        Value = item.IDCantidadContrasenaHist
                                                    })
                                       }
                                }
                                else
                                 {
                                        <input id="ContHistoricas" type="text" class="textinput" />
                                 }
                            <br class="clear" />
                            <span id="errorContHistoricas" class="error"></span>
                        </div>
                    </div> 
                    <div class="grid5">
                        <div class="grid5">
                            <label> Diferencia de usuario y contraseña : </label>
                        </div>
                        <div class="grid4">
                            @if (Model.ListaPolitica.Count > 0)
                            {
                                foreach (var item in Model.ListaPolitica)
                                {
                                    if (item.IDDiferencia_ContrasenaUsuario == 1)
                                    {
                                                <label class="span4"><input type="radio" name="r2" id="Si" value="1" checked="checked" onchange="GetSelectedItem('Si','No')" />Si</label>
                                                <br class="clear" /><label class="span4"><input type="radio" name="r2" id="No" value="0" onchange="GetSelectedItem('Si','No')" />No</label> 
                                    }
                                    else if (item.IDDiferencia_ContrasenaUsuario == 0)
                                    {
                                                <label class="span4"><input type="radio" name="r2" id="Si" value="1" onchange="GetSelectedItem('Si','No')" />Si</label>
                                                <br class="clear" /><label class="span4"><input type="radio" name="r2" id="No" checked="checked" value="0" onchange="GetSelectedItem('Si','No')" />No</label> 
                                    }
                                }
                            }
                            else
                            {
                                <label class="span4"><input type="radio" name="r2" id="Si" value="1" checked="checked" onchange="GetSelectedItem('Si','No')" />Si</label>
                                <br class="clear" /><label class="span4"><input type="radio" name="r2" id="No" value="0" onchange="GetSelectedItem('Si','No')" />No</label> 
                            }
                            <br class="clear" />
                            <span id="errorDifUsuContra" class="error"></span>
                        </div>
                    </div>
                </div>
                <div class="formRow fluid">
                    <div class="grid6">
                        <div class="grid4">
                            <label> Complejidad de contraseña : </label>
                        </div>
                        <div class="grid5">
                            @if (Model.ListaPolitica.Count > 0)
                            {
                                foreach (var item in Model.ListaPolitica)
                                {
                                    if (item.IDComplejidadContraseña == 1)
                                    {
                                                <label class="span4"><input type="radio" name="r1" id="Baja" value="1" checked="checked" onchange="GetSelectedItem('Alta','Baja')" />Baja Seguridad (Letras o Números)</label>
                                                <br class="clear" /><label class="span4"><input type="radio" name="r1" id="Alta" value="2" onchange="GetSelectedItem('Alta','Baja')" />Alta Seguridad (Letras y Números)</label> 
                                    }
                                    else if (item.IDComplejidadContraseña == 2)
                                    {
                                                <label class="span4"><input type="radio" name="r1" id="Baja" value="1" onchange="GetSelectedItem('Alta','Baja')" />Baja Seguridad (Letras o Números)</label>
                                                <br class="clear" /><label class="span4"><input type="radio" name="r1" id="Alta" checked="checked" value="2" onchange="GetSelectedItem('Alta','Baja')" />Alta Seguridad (Letras y Números)</label> 
                                    }
                                }
                            }
                            else
                            {
                                <label class="span4"><input type="radio" name="r1" id="Baja" value="1" checked="checked" onchange="GetSelectedItem('Alta','Baja')" />Baja Seguridad (Letras o Números)</label>
                                <br class="clear" /><label class="span4"><input type="radio" name="r1" id="Alta" value="2" onchange="GetSelectedItem('Alta','Baja')" />Alta Seguridad (Letras y Números)</label> 
                            }
                            <br class="clear" />
                        </div>
                    </div> 
                </div>
                <div class="formRow noBorderB">
                    <div id="status2" class="status"></div>
                    <div class="formSubmit">
                        @foreach (var PG in Model.ListaPaginaAccion.FindAll(x => x.Accion.Grupo.IdGrupo.ToString() == Constantes.GuardarPolitica))
                        {
                            <button class="buttonS bBlue formSubmit group_button" style="cursor: pointer" id="@PG.Accion.CodigoHTML"
                            name="@PG.Accion.Nombre" type="button" title="@PG.Accion.Etiqueta" onclick="@PG.Accion.Evento">
                            @PG.Accion.Etiqueta</button> 
                        }
                        <div class="clear"></div>
                    </div>
                    <div class="clear"></div>
                </div>
            </div>
        </div>
    </fieldset>
</div>

<script type="text/javascript" language="javascript">

</script>
